{% extends "base.html" %}
{% block maincontents %}


<div class="container">

  <div class="starter-template">
    <p class="lead">安全信息查询</p>
  </div>

</div><!-- /.container -->

<div class="container-fluid">
    <table id="table" data-show-columns="true" data-pagination="true" data-page-size="15" data-page-list="[15,30,66,100]" data-show-pagination-switch="true" data-search="true">
    </table>
</div><!-- /.container -->

<script>
    var $table = $('#table');

    $(function () {
        
        data = {{ json_data | safe}};
        columns_set = {{ json_columns | safe }}
        
        $table.bootstrapTable({
            data: data,
            columns: columns_set,
            height: getHeight()
        });

        $(window).resize(function () {
            $table.bootstrapTable('resetView', {
                height: getHeight()
            });
        });

    });

    function getHeight() {
        return $(window).height() - $('h3').outerHeight(true);
    }
</script>

{% endblock %}